---
phase: 50-verification-and-requirements-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/phases/48-admin-features-and-industry-tags/48-VERIFICATION.md
  - .planning/REQUIREMENTS.md
autonomous: true
requirements:
  - ADM-01
  - ADM-02
  - ADM-05
  - DISC-01
  - DISC-02
  - DISC-03
gap_closure: true

must_haves:
  truths:
    - "Phase 48 VERIFICATION.md exists with status: passed and documents all 6 requirements as PASS"
    - "Each requirement in VERIFICATION.md cites specific file paths, function names, and commit SHAs as evidence"
    - "REQUIREMENTS.md traceability table shows all 6 Phase 48 requirements as Phase 48 | Complete (not Phase 48 -> 50 | Pending)"
    - "All 19 v4.0 requirements now show Complete status in the traceability table"
  artifacts:
    - path: ".planning/phases/48-admin-features-and-industry-tags/48-VERIFICATION.md"
      provides: "Formal verification of 6 Phase 48 requirements"
      contains: "status: passed"
    - path: ".planning/REQUIREMENTS.md"
      provides: "Updated traceability table with Complete status for all requirements"
      contains: "| ADM-01 | Phase 48 | Complete |"
  key_links:
    - from: ".planning/phases/48-admin-features-and-industry-tags/48-VERIFICATION.md"
      to: ".planning/REQUIREMENTS.md"
      via: "Requirement IDs match between VERIFICATION.md requirement_ids frontmatter and REQUIREMENTS.md traceability rows"
      pattern: "ADM-01.*Complete"
---

<objective>
Create the missing Phase 48 VERIFICATION.md and update REQUIREMENTS.md traceability table to close the 6 procedural gaps identified in the v4.0 milestone audit.

Purpose: The audit found all Phase 48 code was committed and integrated (4 commits, all 19 integration points WIRED) but no VERIFICATION.md was generated. This leaves 6 requirements as "Pending" in the traceability table. This plan closes the gap with documentation only — no code changes.
Output: `48-VERIFICATION.md` (pass/fail for 6 requirements) + updated REQUIREMENTS.md traceability rows.
</objective>

<execution_context>
@/Users/sebastianhamers/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sebastianhamers/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/v4.0-MILESTONE-AUDIT.md
@.planning/phases/48-admin-features-and-industry-tags/48-01-PLAN.md
@.planning/phases/48-admin-features-and-industry-tags/48-02-PLAN.md
@.planning/phases/48-admin-features-and-industry-tags/48-03-PLAN.md
@.planning/phases/48-admin-features-and-industry-tags/48-04-PLAN.md
@.planning/phases/49-admin-dashboard-cleanup/49-VERIFICATION.md
@.planning/REQUIREMENTS.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Phase 48 VERIFICATION.md with evidence for all 6 requirements</name>
  <files>.planning/phases/48-admin-features-and-industry-tags/48-VERIFICATION.md</files>
  <action>
Create `48-VERIFICATION.md` in the Phase 48 directory following the Phase 49 VERIFICATION.md format (structured truth table). This is documentation only — do NOT modify any source code files.

**Frontmatter:**
```yaml
---
status: passed
phase: 48
phase_name: Admin Features and Industry Tags
verified_at: 2026-02-27T{current_time}Z
requirement_ids: [ADM-01, ADM-02, ADM-05, DISC-01, DISC-02, DISC-03]
---
```

**Phase Goal:** Copy from ROADMAP.md Phase 48: "Admin can export actionable lead data, the overview dashboard shows key stats at a glance, expert import is improved, and industry-level tags are browsable in the tag cloud"

**Must-Have Verification — 4 plan sections:**

**Plan 48-01 Truths (ADM-02: Lead Export CSV):**
3 truths from 48-01-PLAN.md must_haves.truths. For each truth, status PASS, evidence citing:
- `app/routers/admin.py` contains `export_leads_csv` function with route `/export/leads.csv`
- `frontend/src/admin/pages/LeadsPage.tsx` contains `downloadLeadsCsv` function
- Commit `762c02d`

**Plan 48-02 Truths (ADM-01: Overview Stat Cards):**
4 truths from 48-02-PLAN.md must_haves.truths. For each truth, status PASS, evidence citing:
- `app/routers/admin.py` contains `total_leads`, `expert_pool`, `leads_7d`, `leads_prior_7d` fields in stats response
- `frontend/src/admin/pages/OverviewPage.tsx` contains `TrendStatCard` component
- `frontend/src/admin/types.ts` contains extended `AdminStats` interface (if present; or note the type is inline)
- Commit `c67477c`

**Plan 48-03 Truths (ADM-05: Bulk CSV Import):**
5 truths from 48-03-PLAN.md must_haves.truths. For each truth, status PASS, evidence citing:
- `app/routers/admin.py` contains `preview_csv` function with route `/experts/preview-csv`
- `frontend/src/admin/components/CsvImportModal.tsx` contains `CsvImportModal` component
- `frontend/src/admin/pages/ExpertsPage.tsx` imports `CsvImportModal`
- Commit `843c2a4`

**Plan 48-04 Truths (DISC-01, DISC-02, DISC-03: Industry Tags):**
6 truths from 48-04-PLAN.md must_haves.truths. For each truth, status PASS, evidence citing:
- `app/models.py` — `Expert.industry_tags` column
- `app/main.py` — `ALTER TABLE experts ADD COLUMN industry_tags` migration
- `app/routers/admin.py` — `_auto_industry_tags`, `INDUSTRY_KEYWORDS`
- `app/services/explorer.py` — `industry_tags` filter in `run_explore()`
- `app/routers/explore.py` — `industry_tags` query param
- `frontend/src/constants/industryTags.ts` — `INDUSTRY_TAGS` constant
- `frontend/src/store/filterSlice.ts` — `industryTags`, `toggleIndustryTag`
- `frontend/src/store/index.ts` — `industryTags` in partialize, version 2 migration
- `frontend/src/hooks/useExplore.ts` — `industry_tags` param
- `frontend/src/components/sidebar/TagCloud.tsx` — `INDUSTRY_TAGS`, `Industry` section label
- Commit `acbb0b4`

**Artifact Verification:** Table listing each artifact from all 4 plans' must_haves.artifacts. Verify each file exists and contains the expected pattern. Run the verification commands from the RESEARCH.md file to confirm:

```bash
# ADM-02
cd /Users/sebastianhamers/Documents/TCS && python -c "from app.routers.admin import router; routes = [r.path for r in router.routes]; assert '/export/leads.csv' in routes" && grep -q "downloadLeadsCsv" frontend/src/admin/pages/LeadsPage.tsx && echo "PASS"

# ADM-01
cd /Users/sebastianhamers/Documents/TCS && grep -q "TrendStatCard" frontend/src/admin/pages/OverviewPage.tsx && grep -q "total_leads" frontend/src/admin/pages/OverviewPage.tsx && echo "PASS"

# ADM-05
cd /Users/sebastianhamers/Documents/TCS && python -c "from app.routers.admin import router; routes = [r.path for r in router.routes]; assert '/experts/preview-csv' in routes" && grep -q "CsvImportModal" frontend/src/admin/components/CsvImportModal.tsx && grep -q "CsvImportModal" frontend/src/admin/pages/ExpertsPage.tsx && echo "PASS"

# DISC-01/02/03
cd /Users/sebastianhamers/Documents/TCS && python -c "from app.models import Expert; assert hasattr(Expert, 'industry_tags')" && grep -q "industryTags" frontend/src/store/filterSlice.ts && grep -q "INDUSTRY_TAGS" frontend/src/components/sidebar/TagCloud.tsx && echo "PASS"
```

Record output of each command in VERIFICATION.md.

**Key Link Verification:** Table listing all key_links from the 4 plans' must_haves.key_links (8 total). For each, grep for the pattern in the source file and record PASS/FAIL.

**Requirement Verification:** 6-row table mapping each requirement ID to its description and PASS status.

**ROADMAP Success Criteria:** 5-row table mapping each Phase 48 success criterion from ROADMAP.md to PASS status with notes.

**Build Verification:** Run `cd /Users/sebastianhamers/Documents/TCS/frontend && npx vite build 2>&1 | tail -5` and record that the build passes.

**Commits section:** List the 4 Phase 48 commits:
1. `762c02d` - feat(48-01): add lead export CSV endpoint and download button
2. `c67477c` - feat(48-02): add overview stat cards with 7-day trend indicators
3. `843c2a4` - feat(48-03): add multi-step CSV import modal with drag-drop and preview
4. `acbb0b4` - feat(48-04): add industry tag taxonomy with backend filter and frontend UI

**Score:** 6/6 must-haves verified. Phase goal achieved.

IMPORTANT: Do NOT create or modify any source code files. This is documentation only. Run the verification commands listed above to gather evidence, but do not change any `.py`, `.ts`, or `.tsx` files.
  </action>
  <verify>
    <automated>test -f /Users/sebastianhamers/Documents/TCS/.planning/phases/48-admin-features-and-industry-tags/48-VERIFICATION.md && grep -q "status: passed" /Users/sebastianhamers/Documents/TCS/.planning/phases/48-admin-features-and-industry-tags/48-VERIFICATION.md && grep -q "ADM-01" /Users/sebastianhamers/Documents/TCS/.planning/phases/48-admin-features-and-industry-tags/48-VERIFICATION.md && grep -q "DISC-03" /Users/sebastianhamers/Documents/TCS/.planning/phases/48-admin-features-and-industry-tags/48-VERIFICATION.md && echo "PASS"</automated>
  </verify>
  <done>48-VERIFICATION.md exists in the Phase 48 directory with status: passed, documents all 6 requirements (ADM-01, ADM-02, ADM-05, DISC-01, DISC-02, DISC-03) as PASS with specific file/function/commit evidence, and includes artifact verification, key link verification, and ROADMAP success criteria sections.</done>
</task>

<task type="auto">
  <name>Task 2: Update REQUIREMENTS.md traceability table from Pending to Complete</name>
  <files>.planning/REQUIREMENTS.md</files>
  <action>
Update 6 rows in the REQUIREMENTS.md traceability table. The checkboxes (lines 27-37) are already `[x]` — do NOT touch them. Only update the traceability table at the bottom of the file.

**Current state (6 rows to change):**
```
| ADM-01 | Phase 48 → 50 | Pending |
| ADM-02 | Phase 48 → 50 | Pending |
| ADM-05 | Phase 48 → 50 | Pending |
| DISC-01 | Phase 48 → 50 | Pending |
| DISC-02 | Phase 48 → 50 | Pending |
| DISC-03 | Phase 48 → 50 | Pending |
```

**Target state:**
```
| ADM-01 | Phase 48 | Complete |
| ADM-02 | Phase 48 | Complete |
| ADM-05 | Phase 48 | Complete |
| DISC-01 | Phase 48 | Complete |
| DISC-02 | Phase 48 | Complete |
| DISC-03 | Phase 48 | Complete |
```

That is: change `Phase 48 → 50` to `Phase 48` and `Pending` to `Complete` for each of the 6 rows.

After updating, verify that all 19 requirements now show `Complete` status in the traceability table. No row should still say `Pending`.

IMPORTANT: Do NOT change checkboxes, requirement descriptions, or any other content. Only these 6 traceability rows change.
  </action>
  <verify>
    <automated>grep -c "| Complete |" /Users/sebastianhamers/Documents/TCS/.planning/REQUIREMENTS.md | grep -q "19" && ! grep -q "| Pending |" /Users/sebastianhamers/Documents/TCS/.planning/REQUIREMENTS.md && echo "PASS"</automated>
    <manual>Open REQUIREMENTS.md, scroll to traceability table, verify all 19 rows show Complete</manual>
  </verify>
  <done>All 6 Phase 48 requirement rows updated from "Phase 48 -> 50 | Pending" to "Phase 48 | Complete". All 19 v4.0 requirements now show Complete in the traceability table.</done>
</task>

</tasks>

<verification>
- `48-VERIFICATION.md` exists at `.planning/phases/48-admin-features-and-industry-tags/48-VERIFICATION.md`
- VERIFICATION.md frontmatter has `status: passed` and lists all 6 requirement IDs
- Each of the 6 requirements documented with PASS status and code evidence
- REQUIREMENTS.md traceability table has 19/19 rows showing `Complete`
- No row in traceability table shows `Pending`
- No source code files (`.py`, `.ts`, `.tsx`) were modified
</verification>

<success_criteria>
Phase 48 VERIFICATION.md exists and documents verification of all 6 requirements. All 19 REQUIREMENTS.md traceability rows reflect Complete status. The v4.0 milestone audit score would now be 19/19 (100%).
</success_criteria>

<output>
After completion, create `.planning/phases/50-verification-and-requirements-cleanup/50-01-SUMMARY.md`
</output>
