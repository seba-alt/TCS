# Phase 34.1: Fix zero-result searches missing from admin gap and enable the sage in dutch - Context

**Gathered:** 2026-02-23
**Status:** Ready for planning

<domain>
## Phase Boundary

Two urgent fixes: (1) Backend gap detection bug where searches with NULL top_match_score are excluded from all gap queries/counters in the admin panel. (2) Enable the Sage co-pilot to accept Dutch queries, translate them for FAISS matching, and respond in Dutch.

</domain>

<decisions>
## Implementation Decisions

### Gap detection fix
- Fix queries only — add `OR top_match_score IS NULL` to all gap conditions; do NOT change how chat.py stores NULL
- Apply consistently across ALL gap-checking locations: Gaps page, stats counters, intelligence stats, searches gap_flag filter, daily trend SQL, and CSV exports
- The `_is_gap` Python helper must also treat NULL as a gap (currently explicitly excludes it)

### Dutch Sage — language detection
- Auto-detect Dutch input — no language toggle or selector in the UI
- Dutch support scoped to Sage co-pilot only — main grid/filters remain English-only
- Dutch only for now — no need for a generic multi-language framework

### Dutch Sage — query matching
- Translate Dutch query to English before FAISS embedding search — ensures best match quality against English expert bios
- Translation happens server-side before the embedding step

### Dutch Sage — response language
- When user writes in Dutch, Sage responds in Dutch (narrative/explanation)
- Expert data (names, titles, bios, tags) stays in English within the Dutch response — they're proper data, not translatable content

### Dutch Sage — UI scope
- All UI elements (placeholders, buttons, labels, empty states) stay in English
- Only the Sage conversation content (user query + Sage response) is in Dutch

### Claude's Discretion
- Best Score column display for NULL scores (dash vs 0.000 — pick what's most readable)
- Visual treatment of zero-result gaps in the table (subtle badge or no special treatment)
- Whether to show a language detection indicator (NL badge) or keep it seamless

</decisions>

<specifics>
## Specific Ideas

No specific requirements — open to standard approaches for both fixes.

</specifics>

<deferred>
## Deferred Ideas

None — discussion stayed within phase scope

</deferred>

---

*Phase: 34.1-fix-zero-result-searches-missing-from-admin-gap-and-enable-the-sage-in-dutch*
*Context gathered: 2026-02-23*
