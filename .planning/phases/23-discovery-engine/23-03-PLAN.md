---
phase: 23-discovery-engine
plan: 03
type: execute
wave: 2
depends_on:
  - "23-01"
  - "23-02"
files_modified:
  - frontend/src/components/sidebar/FilterSidebar.tsx
autonomous: false
requirements:
  - DISC-01

must_haves:
  truths:
    - "FilterSidebar's Domain Tags section shows the animated tag cloud (not the old TagMultiSelect with text search)"
    - "The 'Everything is possible' cycling element appears below the tag cloud in the sidebar"
    - "Selecting a tag causes the selected pill to move to the front of the cloud with a smooth position animation"
    - "Approaching a tag pill with the cursor causes it to scale up without any visible React re-render jank"
    - "The sidebar filter functionality (toggling tags, reading from store) continues to work correctly"
  artifacts:
    - path: "frontend/src/components/sidebar/FilterSidebar.tsx"
      provides: "FilterSidebar with TagCloud + EverythingIsPossible wired in"
      contains: "TagCloud"
  key_links:
    - from: "frontend/src/components/sidebar/FilterSidebar.tsx"
      to: "frontend/src/components/sidebar/TagCloud.tsx"
      via: "import + render in FilterControls Domain Tags section"
      pattern: "import.*TagCloud"
    - from: "frontend/src/components/sidebar/FilterSidebar.tsx"
      to: "frontend/src/components/sidebar/EverythingIsPossible.tsx"
      via: "import + render below TagCloud"
      pattern: "import.*EverythingIsPossible"
---

<objective>
Wire TagCloud and EverythingIsPossible into FilterSidebar, replacing TagMultiSelect. Then verify the complete discovery engine visually.

Purpose: Plans 01 and 02 built the bento card and new tag cloud components in isolation. This plan activates them by swapping TagMultiSelect out of FilterSidebar and adding the EverythingIsPossible element. The human verify checkpoint confirms the full Phase 23 visual experience.
Output: Updated FilterSidebar.tsx with TagCloud + EverythingIsPossible; human confirmation of all five Phase 23 success criteria.
</objective>

<execution_context>
@/Users/sebastianhamers/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sebastianhamers/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/23-discovery-engine/23-RESEARCH.md
@frontend/src/components/sidebar/FilterSidebar.tsx
@.planning/phases/23-discovery-engine/23-01-SUMMARY.md
@.planning/phases/23-discovery-engine/23-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Wire TagCloud and EverythingIsPossible into FilterSidebar</name>
  <files>frontend/src/components/sidebar/FilterSidebar.tsx</files>
  <action>
Update FilterSidebar.tsx to replace the TagMultiSelect import and usage with TagCloud + EverythingIsPossible.

Changes to make in `FilterControls` function:

1. **Remove import**: `import { TagMultiSelect } from './TagMultiSelect'`
2. **Add imports**:
   ```tsx
   import { TagCloud } from './TagCloud'
   import { EverythingIsPossible } from './EverythingIsPossible'
   ```
3. **Replace render** in the Domain Tags section:
   ```tsx
   // REMOVE:
   // <span className="text-xs font-medium text-gray-500 uppercase">Domain Tags</span>
   // <TagMultiSelect />

   // WITH:
   <span className="text-xs font-medium text-white/60 uppercase">Domain Tags</span>
   <TagCloud />
   <EverythingIsPossible />
   ```

Note: The label text color should be `text-white/60` to match the Phase 22 glass surface text updates applied to Hourly Rate and other labels in FilterSidebar (confirmed in 22-02-SUMMARY.md: "Filter label text: text-gray-500 → text-white/60").

Do NOT touch:
- The `<aside>` structure, collapse/expand logic, or toggle button
- `IconStrip` component
- `RateSlider` integration
- `MobileFilterSheet` (separate file, has own inline tag rendering — confirmed unchanged per RESEARCH.md)
- `TagMultiSelect.tsx` itself — leave it in place (mobile sheet may reference it; safe to keep)

After the change, run `npm run build` to confirm zero TypeScript errors.
  </action>
  <verify>Run `cd /Users/sebastianhamers/Documents/TCS/frontend && npm run build` — must exit 0. Confirm: `grep -n "TagCloud\|EverythingIsPossible" /Users/sebastianhamers/Documents/TCS/frontend/src/components/sidebar/FilterSidebar.tsx` — shows both imports and usage. Confirm TagMultiSelect removed: `grep -n "TagMultiSelect" /Users/sebastianhamers/Documents/TCS/frontend/src/components/sidebar/FilterSidebar.tsx` — no results.</verify>
  <done>Build exits 0. FilterSidebar imports and renders TagCloud and EverythingIsPossible. No TagMultiSelect reference remains in FilterSidebar.tsx.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Visual verification of full Phase 23 discovery engine</name>
  <action>Pause for human visual verification of the complete Phase 23 discovery engine in the browser. All automated work is complete — dev server is running at http://localhost:5173.</action>
  <verify>Human approval received via resume-signal.</verify>
  <done>Human types "approved" confirming all 8 visual checks pass.</done>
  <what-built>
Complete Phase 23 Discovery Engine:
- Bento ExpertCard with four visual zones (name/role, rate+badge, tags, match reason) within h-[180px]
- OKLCH aurora-aligned hover glow on ExpertCard (hue 279 replaces hardcoded #5128F2)
- Animated tag cloud replacing TagMultiSelect in the sidebar, with proximity-based scaling
- "Everything is possible" cycling quirky-tag element below the cloud
- All changes built and deployed via git push to main (auto-deploy on Vercel)
  </what-built>
  <how-to-verify>
Start the local dev server if not running: `cd /Users/sebastianhamers/Documents/TCS/frontend && npm run dev` then open http://localhost:5173

1. **Bento ExpertCard zones**: Browse the marketplace (no query needed). Confirm each expert card shows four visually distinct regions — name/title/company at top, rate+badge below, tag pills, then a separated zone at bottom with "View Full Profile →". The card height should appear consistent across all cards.

2. **ExpertCard hover glow**: Hover over an expert card. The glow ring should be a lighter purple/lavender that integrates with the aurora background — not the dark #5128F2 purple. It should feel cohesive with the aurora gradient behind it.

3. **Animated tag cloud**: In the left sidebar (expanded, not collapsed), the Domain Tags section should show all 30 tag pills in a flex-wrap layout — NOT the old text-search input. Pills should be rounded and clickable.

4. **Proximity scale**: Move your cursor slowly toward any tag pill WITHOUT clicking. As the cursor gets within ~120px of a pill, it should grow slightly (up to 1.4× at direct hover). Moving away returns it to normal size. This should feel smooth (spring physics), not snappy.

5. **Layout reorder**: Click any tag pill to select it. It should move to the front of the cloud with a smooth positional animation (FLIP animation, not a fade). Selected pills show brand-purple fill.

6. **Everything is possible**: Below the tag cloud, you should see "Everything is possible —" text followed by a quirky italic tag (e.g. "underwater basket weaving", "dragon taming"). It should change every ~3.5 seconds with a crossfade. Clicking or pressing Enter/Space on it should toggle it as a search filter.

7. **Keyboard navigation**: Tab to the tag cloud pills and verify they are reachable. Tab to the EverythingIsPossible element and confirm Enter activates it.

8. **No jank**: Select multiple tags, move your cursor rapidly over the cloud. The proximity animations should be fluid (no React re-render jank — no flash or stutter).
  </how-to-verify>
  <resume-signal>Type "approved" if all 8 checks pass, or describe any issues to fix.</resume-signal>
</task>

</tasks>

<verification>
1. `cd /Users/sebastianhamers/Documents/TCS/frontend && npm run build` exits 0
2. FilterSidebar.tsx imports TagCloud and EverythingIsPossible, no TagMultiSelect
3. Human confirms: bento card zones visible, glow aurora-aligned, tag cloud present, proximity scale working, layout reorder animates, EverythingIsPossible cycles, keyboard nav works, no jank
</verification>

<success_criteria>
- FilterSidebar.tsx: TagCloud and EverythingIsPossible wired in, TagMultiSelect removed
- Build passes with zero TypeScript errors
- Human visual verification: all five Phase 23 roadmap success criteria confirmed:
  1. ExpertCard shows four distinct visual zones within h-[180px]
  2. ExpertCard hover glow aurora-palette aligned
  3. Tag selector shows Framer Motion layout-reordering pill cloud
  4. Cursor proximity causes proportional pill scaling with no jank
  5. "Everything is possible" element cycles and is keyboard-navigable
</success_criteria>

<output>
After completion, create `.planning/phases/23-discovery-engine/23-03-SUMMARY.md`
</output>
