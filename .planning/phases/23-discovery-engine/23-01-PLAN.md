---
phase: 23-discovery-engine
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/src/components/marketplace/ExpertCard.tsx
  - frontend/src/index.css
autonomous: true
requirements:
  - CARD-01
  - CARD-02
  - CARD-03

must_haves:
  truths:
    - "ExpertCard displays four visually distinct zones (name/role, rate+badge, tags, match reason) within fixed h-[180px]"
    - "ExpertCard hover shows an aurora-palette glow (hue 279 OKLCH) rather than the old hardcoded #5128F2 purple"
    - "ExpertCard has zero Framer Motion imports — CSS hover only"
    - "VirtuosoGrid works without change — h-[180px] outer height preserved"
  artifacts:
    - path: "frontend/src/components/marketplace/ExpertCard.tsx"
      provides: "Bento four-zone card layout"
      min_lines: 60
    - path: "frontend/src/index.css"
      provides: "Updated .expert-card:hover OKLCH glow"
      contains: "oklch"
  key_links:
    - from: "frontend/src/index.css"
      to: ".expert-card:hover"
      via: "box-shadow with OKLCH hue-279 values"
      pattern: "oklch.*279"
    - from: "frontend/src/components/marketplace/ExpertCard.tsx"
      to: "flex-col zones"
      via: "flex-shrink-0 on zones A/B/C, flex-1 on zone D"
      pattern: "flex-shrink-0"
---

<objective>
Redesign ExpertCard as a bento-layout card with four explicit visual zones and update the hover glow to use OKLCH aurora tokens.

Purpose: The current flat card has no clear information hierarchy. The bento layout creates visual separation between name/role, rate+badge, tags, and match reason — making the card scannable at a glance. The glow update ensures the hover effect integrates with the Phase 22 aurora aesthetic rather than clashing with it.
Output: Modified ExpertCard.tsx with four-zone flex-column layout; updated .expert-card:hover in index.css using OKLCH hue-279 box-shadow values.
</objective>

<execution_context>
@/Users/sebastianhamers/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sebastianhamers/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/23-discovery-engine/23-RESEARCH.md
@frontend/src/components/marketplace/ExpertCard.tsx
@frontend/src/index.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Bento four-zone ExpertCard layout</name>
  <files>frontend/src/components/marketplace/ExpertCard.tsx</files>
  <action>
Restructure the ExpertCard to use an explicit four-zone bento layout via flex-column with controlled shrink behavior. The outer wrapper MUST keep `h-[180px] overflow-hidden` unchanged — VirtuosoGrid requires uniform height.

Zone allocation within 180px (from RESEARCH.md Pattern 1):
- Zone A (name/role/company): `flex-shrink-0` — h-auto, content drives height (~52px)
- Zone B (rate + badge): `flex-shrink-0 flex items-center gap-2 flex-wrap`
- Zone C (tags): `flex-shrink-0 hidden sm:flex flex-nowrap gap-1 overflow-hidden`
- Zone D (match reason + View Profile): `flex-1 min-h-0 flex flex-col justify-between`

Add a thin top border to Zone D (`border-t border-gray-100/60 pt-1.5`) to visually separate it from the tags zone — this creates the bento visual separation without requiring CSS grid.

Important constraints:
- Do NOT import from `motion/react` or `framer-motion` — Phase 17 decision, CSS hover only
- Keep `h-[180px] overflow-hidden` on the outer wrapper div (class `expert-card`)
- "View Full Profile →" button MUST be always rendered (non-conditional) in Zone D with `mt-auto self-start`
- Zone D uses `justify-between` so match_reason (when present) sits at top and View Profile pins to bottom
- When `hasSemanticFilter` is false, Zone D shows only the View Profile button — `justify-between` with single child still pins it to bottom with `mt-auto`

Update the outer wrapper class from `bg-white` to `bg-white/90` for slight aurora transparency integration.

Change outer gap from `gap-2` to `gap-1.5` to give zones more consistent spacing within 180px.

Zone C tags: update `bg-gray-100` to `bg-gray-100/80` (slight transparency to hint at aurora underneath).
  </action>
  <verify>Run `cd /Users/sebastianhamers/Documents/TCS/frontend && npm run build` — must exit 0 with no TypeScript errors. Check that ExpertCard.tsx has no import from 'motion/react' or 'framer-motion': `grep -n "motion" /Users/sebastianhamers/Documents/TCS/frontend/src/components/marketplace/ExpertCard.tsx` should return no results.</verify>
  <done>Build exits 0. ExpertCard.tsx has no motion imports. The outer div retains h-[180px] overflow-hidden. Four flex zones present with flex-shrink-0 on A/B/C and flex-1 on D.</done>
</task>

<task type="auto">
  <name>Task 2: OKLCH aurora glow for .expert-card:hover</name>
  <files>frontend/src/index.css</files>
  <action>
Update the `.expert-card:hover` block in `frontend/src/index.css` to replace the hardcoded `#5128F2` values with OKLCH hue-279 values that match the aurora token family.

Replace the existing `.expert-card:hover` box-shadow:
```css
/* FROM (hardcoded legacy purple): */
.expert-card:hover {
  transform: translateY(-4px);
  box-shadow:
    0 0 0 1.5px #5128F2,
    0 0 24px rgba(81, 40, 242, 0.25),
    0 8px 20px rgba(0, 0, 0, 0.08);
}

/* TO (OKLCH aurora-aligned, hue 279 family): */
.expert-card:hover {
  transform: translateY(-4px);
  box-shadow:
    0 0 0 1.5px oklch(65% 0.18 279),
    0 0 24px oklch(72% 0.14 279 / 0.35),
    0 8px 20px rgba(0, 0, 0, 0.06);
}
```

Hue 279 matches all aurora tokens (--aurora-purple, --aurora-violet family anchored at hue 279). Lightness 65–72% produces a visible brand-aligned ring lighter than the original but clearly branded and cohesive with the light aurora background.

No other changes to index.css — do NOT touch aurora tokens, glass-surface, or other rules.
  </action>
  <verify>Run `cd /Users/sebastianhamers/Documents/TCS/frontend && npm run build` — must exit 0. Confirm the update with `grep -n "oklch.*279" /Users/sebastianhamers/Documents/TCS/frontend/src/index.css` — should show the two new box-shadow lines.</verify>
  <done>Build exits 0. .expert-card:hover box-shadow uses oklch(65% 0.18 279) ring and oklch(72% 0.14 279 / 0.35) glow. No hardcoded #5128F2 remains in the hover rule.</done>
</task>

</tasks>

<verification>
1. `cd /Users/sebastianhamers/Documents/TCS/frontend && npm run build` exits 0
2. `grep -n "motion" frontend/src/components/marketplace/ExpertCard.tsx` — no results (no motion import)
3. `grep -n "h-\[180px\]" frontend/src/components/marketplace/ExpertCard.tsx` — confirms h-[180px] preserved
4. `grep -n "flex-shrink-0" frontend/src/components/marketplace/ExpertCard.tsx` — confirms three shrink-0 zones
5. `grep -n "oklch.*279" frontend/src/index.css` — confirms OKLCH glow values in .expert-card:hover
</verification>

<success_criteria>
- ExpertCard.tsx: four-zone bento layout, h-[180px] preserved, no motion imports, View Profile always visible
- index.css: .expert-card:hover uses OKLCH hue-279 box-shadow values (no hardcoded #5128F2)
- Build passes with zero TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/23-discovery-engine/23-01-SUMMARY.md`
</output>
