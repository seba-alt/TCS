---
phase: 03-frontend
plan: "01"
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/package.json
  - frontend/vite.config.ts
  - frontend/tsconfig.json
  - frontend/tsconfig.node.json
  - frontend/index.html
  - frontend/tailwind.config.ts
  - frontend/postcss.config.js
  - frontend/src/index.css
  - frontend/src/main.tsx
  - frontend/src/types.ts
  - frontend/src/vite-env.d.ts
  - frontend/.env.example
  - frontend/.gitignore
autonomous: true
requirements:
  - CHAT-01
  - CHAT-02

must_haves:
  truths:
    - "Running `npm run dev` inside frontend/ starts a Vite dev server without errors"
    - "The app renders in a browser at localhost:5173 without TypeScript or Tailwind compile errors"
    - "The Expert, Message, and ChatResponse TypeScript types are defined and importable"
    - "Tailwind utility classes (bg-black, text-purple-600) apply correctly to elements"
  artifacts:
    - path: "frontend/package.json"
      provides: "Vite+React+TS+Tailwind dependency manifest"
      contains: "\"react\""
    - path: "frontend/tailwind.config.ts"
      provides: "Tailwind CSS configuration with Tinrate brand color extension"
      contains: "5128F2"
    - path: "frontend/src/types.ts"
      provides: "Shared TypeScript types for Expert, Message, ChatResponse"
      exports: ["Expert", "Message", "ChatResponse"]
    - path: "frontend/src/index.css"
      provides: "Tailwind directives entry point"
      contains: "@tailwind base"
  key_links:
    - from: "frontend/src/main.tsx"
      to: "frontend/src/App.tsx"
      via: "React.createElement / JSX import"
      pattern: "import App"
    - from: "frontend/src/index.css"
      to: "frontend/tailwind.config.ts"
      via: "@tailwind directives processed by PostCSS"
      pattern: "@tailwind"
---

<objective>
Scaffold the React + TypeScript + Tailwind frontend project that all Phase 3 components will be built inside.

Purpose: Every subsequent plan in this phase depends on this scaffold existing — it provides the package manager, build tooling, Tailwind configuration with Tinrate brand colors, and shared TypeScript types.
Output: A runnable `frontend/` Vite project with Tailwind configured, brand colors extended, and shared types defined.
</objective>

<execution_context>
@/Users/sebastianhamers/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sebastianhamers/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-frontend/03-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Vite + React + TypeScript project with Tailwind CSS</name>
  <files>
    frontend/package.json
    frontend/vite.config.ts
    frontend/tsconfig.json
    frontend/tsconfig.node.json
    frontend/index.html
    frontend/tailwind.config.ts
    frontend/postcss.config.js
    frontend/src/index.css
    frontend/src/main.tsx
    frontend/.gitignore
    frontend/.env.example
    frontend/src/vite-env.d.ts
  </files>
  <action>
    Run from the project root (/Users/sebastianhamers/Documents/TCS):

    1. Scaffold Vite project:
       `npm create vite@latest frontend -- --template react-ts`
       When prompted, select React and TypeScript.

    2. Install dependencies:
       `cd frontend && npm install`

    3. Install Tailwind and PostCSS:
       `npm install -D tailwindcss@3 postcss autoprefixer`
       `npx tailwindcss init -p --ts`
       (The `-p` flag generates postcss.config.js alongside tailwind.config.ts)

    4. Update `frontend/tailwind.config.ts` — set content paths and extend theme with Tinrate brand colors:
       ```ts
       import type { Config } from 'tailwindcss'

       export default {
         content: [
           './index.html',
           './src/**/*.{ts,tsx}',
         ],
         theme: {
           extend: {
             colors: {
               brand: {
                 black: '#000000',
                 white: '#FFFFFF',
                 purple: '#5128F2',
               },
             },
           },
         },
         plugins: [],
       } satisfies Config
       ```

    5. Replace `frontend/src/index.css` content with Tailwind directives only:
       ```css
       @tailwind base;
       @tailwind components;
       @tailwind utilities;
       ```

    6. Update `frontend/index.html` — set page title to "Tinrate — Find the right expert, instantly".

    7. Add Vite env type declaration to `frontend/src/vite-env.d.ts`:
       ```ts
       /// <reference types="vite/client" />

       interface ImportMetaEnv {
         readonly VITE_API_URL: string
       }

       interface ImportMeta {
         readonly env: ImportMetaEnv
       }
       ```

    8. Create `frontend/.env.example`:
       ```
       # Backend API base URL (no trailing slash)
       # Development: point to local FastAPI server
       # Production: Railway deployment URL
       VITE_API_URL=http://localhost:8000
       ```

    9. Add `frontend/.gitignore` entries for .env files:
       After scaffold, verify .gitignore contains `.env` and `.env.local` entries. Add if missing.

    10. Replace the boilerplate `frontend/src/App.tsx` with a minimal placeholder (will be replaced in Plan 03):
        ```tsx
        export default function App() {
          return <div className="min-h-screen bg-brand-white">Tinrate Chatbot</div>
        }
        ```

    11. Verify `frontend/src/main.tsx` imports `./index.css` — add import if missing:
        ```tsx
        import './index.css'
        ```
  </action>
  <verify>
    From the `frontend/` directory:
    1. `npm run build` — must exit 0 with no TypeScript errors
    2. Run `npm run dev` briefly, visit http://localhost:5173 — page loads showing "Tinrate Chatbot" text with white background
    3. Stop dev server (Ctrl+C)
  </verify>
  <done>
    `npm run build` exits 0. Vite dev server starts at localhost:5173. Tailwind utility class `bg-brand-white` resolves without error. `.env.example` committed to git (`.env` is gitignored).
  </done>
</task>

<task type="auto">
  <name>Task 2: Define shared TypeScript types</name>
  <files>
    frontend/src/types.ts
  </files>
  <action>
    Create `frontend/src/types.ts` with all shared types used across components and the SSE hook.

    The SSE API (POST /api/chat) returns a `result` event with this shape (from app/routers/chat.py):
    ```json
    {
      "event": "result",
      "type": "recommendation" | "clarification",
      "narrative": "string",
      "experts": [
        {
          "name": "string",
          "title": "string",
          "company": "string",
          "hourly_rate": "string",
          "profile_url": "string"
        }
      ]
    }
    ```

    Define types:
    ```ts
    export interface Expert {
      name: string
      title: string
      company: string
      hourly_rate: string
      profile_url: string
    }

    export type MessageRole = 'user' | 'assistant'

    export interface Message {
      id: string                   // crypto.randomUUID()
      role: MessageRole
      content: string              // narrative text for assistant, query text for user
      experts?: Expert[]           // only on assistant messages with type === 'recommendation'
      isStreaming?: boolean        // true while SSE result is being received
    }

    export type ChatStatus =
      | 'idle'        // no active request
      | 'thinking'    // status:thinking event received, waiting for result
      | 'streaming'   // result event received, narrative being displayed
      | 'done'        // done event received
      | 'error'       // error event received

    export interface ChatResponse {
      type: 'recommendation' | 'clarification'
      narrative: string
      experts: Expert[]
    }

    export interface SSEResultEvent {
      event: 'result'
      type: 'recommendation' | 'clarification'
      narrative: string
      experts: Expert[]
    }
    ```

    No default export — all named exports.
  </action>
  <verify>
    From `frontend/`:
    `npm run build` — TypeScript compiler must accept types.ts with zero errors.
    Check: `grep -n "export interface Expert" frontend/src/types.ts` returns a match.
  </verify>
  <done>
    `frontend/src/types.ts` exists with Expert, Message, ChatStatus, ChatResponse, and SSEResultEvent types. `npm run build` exits 0 with no type errors.
  </done>
</task>

</tasks>

<verification>
From `frontend/` directory:
1. `npm run build` exits 0
2. `npm run dev` starts without errors
3. `frontend/tailwind.config.ts` contains `5128F2` (Tinrate purple)
4. `frontend/src/types.ts` exports Expert, Message, ChatStatus, ChatResponse interfaces
5. `frontend/.env.example` exists and is committed; `frontend/.env` is gitignored
</verification>

<success_criteria>
- Vite dev server starts at localhost:5173 with zero errors
- TypeScript compilation passes (`npm run build` exits 0)
- Tailwind brand colors (brand-black, brand-white, brand-purple) are configured
- All shared types (Expert, Message, ChatStatus, ChatResponse) are defined and importable
- No secrets in committed files; `.env.example` documents required env vars
</success_criteria>

<output>
After completion, create `.planning/phases/03-frontend/03-01-SUMMARY.md` following the summary template.
</output>
